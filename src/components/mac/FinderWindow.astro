---
interface Props {
	title?: string;
	width?: string;
	height?: string;
	x?: string;
	y?: string;
}

const { title = "Finder", width = "600px", height = "400px", x = "100px", y = "100px" } = Astro.props;
---

<div class="mac-window absolute flex flex-col rounded-xl overflow-hidden shadow-2xl" 
     style={`width: ${width}; height: ${height}; top: ${y}; left: ${x}; background: rgba(30, 30, 30, 0.85); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.1);`}>
	
	<!-- Sidebar + Content Layout -->
	<div class="flex flex-1 h-full font-sans text-sm text-white/90">
		<!-- Sidebar -->
		<div class="w-48 bg-black/20 p-4 pt-12 flex flex-col gap-4 border-r border-white/5">
			<div class="space-y-1">
				<div class="text-xs font-bold text-white/40 px-2 mb-2">Favorites</div>
				<div class="px-2 py-1 bg-white/10 rounded cursor-pointer">AirDrop</div>
				<div class="px-2 py-1 hover:bg-white/5 rounded cursor-pointer">Recents</div>
				<div class="px-2 py-1 hover:bg-white/5 rounded cursor-pointer">Applications</div>
				<div class="px-2 py-1 hover:bg-white/5 rounded cursor-pointer">Desktop</div>
				<div class="px-2 py-1 hover:bg-white/5 rounded cursor-pointer">Documents</div>
				<div class="px-2 py-1 hover:bg-white/5 rounded cursor-pointer">Downloads</div>
			</div>
			
			<div class="space-y-1">
				<div class="text-xs font-bold text-white/40 px-2 mb-2">iCloud</div>
				<div class="px-2 py-1 hover:bg-white/5 rounded cursor-pointer">iCloud Drive</div>
			</div>
			
			<div class="space-y-1">
				<div class="text-xs font-bold text-white/40 px-2 mb-2">Locations</div>
				<div class="px-2 py-1 hover:bg-white/5 rounded cursor-pointer">Agent Disk</div>
				<div class="px-2 py-1 hover:bg-white/5 rounded cursor-pointer">Network</div>
			</div>
		</div>

		<!-- Main Area -->
		<div class="flex-1 flex flex-col">
			<!-- Toolbar -->
			<div class="h-12 border-b border-black/20 flex items-center px-4 justify-between bg-white/5">
				<div class="flex gap-2">
					<button class="text-white/50 hover:text-white">&lt;</button>
					<button class="text-white/50 hover:text-white">&gt;</button>
					<span class="font-bold ml-2">Desktop</span>
				</div>
				<div class="flex gap-2">
					<div class="w-32 bg-black/20 rounded h-6 flex items-center px-2 text-xs text-white/30">Search</div>
				</div>
			</div>
			
			<!-- Files Grid -->
			<div class="p-6 grid grid-cols-4 gap-4 overflow-auto content-start">
				<div class="flex flex-col items-center gap-2 group cursor-pointer">
					<img src="https://cdn-icons-png.flaticon.com/512/3767/3767084.png" class="w-12 h-12 opacity-90 group-hover:opacity-100 drop-shadow-lg" />
					<span class="text-xs text-white text-center px-2 py-0.5 rounded group-hover:bg-blue-600">System Folder</span>
				</div>
				<div class="flex flex-col items-center gap-2 group cursor-pointer">
					<img src="https://cdn-icons-png.flaticon.com/512/124/124092.png" class="w-12 h-12 opacity-90 group-hover:opacity-100 drop-shadow-lg filter invert" />
					<span class="text-xs text-white text-center px-2 py-0.5 rounded group-hover:bg-blue-600">config.json</span>
				</div>
				<div class="flex flex-col items-center gap-2 group cursor-pointer">
					<img src="https://cdn-icons-png.flaticon.com/512/2920/2920277.png" class="w-12 h-12 opacity-90 group-hover:opacity-100 drop-shadow-lg" />
					<span class="text-xs text-white text-center px-2 py-0.5 rounded group-hover:bg-blue-600">terminal.sh</span>
				</div>
				<div class="flex flex-col items-center gap-2 group cursor-pointer">
					<img src="https://cdn-icons-png.flaticon.com/512/337/337946.png" class="w-12 h-12 opacity-90 group-hover:opacity-100 drop-shadow-lg filter invert" />
					<span class="text-xs text-white text-center px-2 py-0.5 rounded group-hover:bg-blue-600">ReadMe.txt</span>
				</div>
			</div>
		</div>
	</div>

	<!-- Standard Window Controls (Overlay) -->
	<div class="absolute top-3 left-4 flex gap-2 z-50">
		<div class="w-3 h-3 rounded-full bg-[#ff5f56] hover:brightness-110 cursor-pointer shadow-inner"></div>
		<div class="w-3 h-3 rounded-full bg-[#ffbd2e] hover:brightness-110 cursor-pointer shadow-inner"></div>
		<div class="w-3 h-3 rounded-full bg-[#27c93f] hover:brightness-110 cursor-pointer shadow-inner"></div>
	</div>
</div>

<style>
	.mac-window {
		box-shadow: 0 20px 50px rgba(0,0,0,0.6), 0 0 0 1px rgba(255,255,255,0.1);
	}
</style>
